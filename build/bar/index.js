(()=>{"use strict";const e=window.wp.blocks,o=window.ReactJSXRuntime;(0,e.registerBlockType)("cdb/grafica-bar",{title:"Gráfica Bar",icon:"chart-area",category:"widgets",edit:()=>(0,o.jsx)("div",{children:(0,o.jsx)("p",{children:'El bloque "Gráfica Bar" está funcionando correctamente. La configuración de colores ha sido eliminada para mayor estabilidad.'})}),save:()=>null}),document.addEventListener("DOMContentLoaded",(function(){console.log("El DOM está cargado.");const e=document.getElementById("grafica-bar");if(!e)return void console.error("No se encontró el elemento con id 'grafica-bar'.");const o=document.createElement("canvas");e.appendChild(o);const t=o.getContext("2d");if(e&&t){const o=JSON.parse(e.dataset.valores),r=(e=>{const o=/^#?([a-fA-F0-9]{6})$/.exec(e||"");if(o){const e=parseInt(o[1],16);return`rgba(${e>>16&255}, ${e>>8&255}, ${255&e}, 0.2)`}return e})(e.dataset.backgroundColor),a={labels:o.labels,datasets:[{label:`Puntuación Total: ${o.total.toFixed(1)}`,data:o.promedios,backgroundColor:r||"rgba(75, 192, 192, 0.2)",borderColor:e.dataset.borderColor||"rgba(75, 192, 192, 1)",borderWidth:2}]};new Chart(t,{type:"radar",data:a,options:{responsive:!0,plugins:{legend:{display:!0,labels:{font:{size:14}}}},scales:{r:{ticks:{beginAtZero:!0,stepSize:1,max:10,min:0}}}}}),console.log("Gráfica creada correctamente.")}}))})();